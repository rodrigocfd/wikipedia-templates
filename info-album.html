<html>
<head>
<meta charset="UTF-8"/>
<meta name="author" content="Rodrigo César de Freitas Dias"/>
<link rel="icon" href="favicon.ico"/>
<title>Info/Álbum</title>
<link type="text/css" rel="stylesheet" href="dress.css"/>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="util.js"></script>
<script>
$(document).ready(function() {
	$('#output').hide();
	$('input[type=text]:first').focus();

	$('select[name^=avaliacaoescala]').html(
		'<option value=""></option>' +
		'<option value="5">5</option>' +
		'<option value="10">10</option>');

	function fetchdt(fieldPrefix) {
		var d = $('input[name=' + fieldPrefix + 'd]').val();
		var m = $('input[name=' + fieldPrefix + 'm]').val();
		var y = $('input[name=' + fieldPrefix + 'y]').val();
		if (d.length > 0 && m.length > 0 && y.length > 0) {
			return '{{Data de início|%d|%d|%d}}'.format(y, m, d);
		}
		return '';
	}

	function fetchdur(fieldPrefix) {
		var m = $('input[name=' + fieldPrefix + 'm]').val();
		var s = $('input[name=' + fieldPrefix + 's]').val();
		if (m.length > 0 && s.length > 0) {
			return '{{Duração|m=%d|s=%d}}'.format(m, s);
		}
		return '';
	}

	function fetchalb(fieldPrefix) {
		var nome = $('input[name=' + fieldPrefix + ']').val();
		var ano = $('input[name=' + fieldPrefix + 'ano]').val();
		if (nome.length && ano.length) {
			return "''[[%s]]''<br/>([[%d]])\n".format(nome, ano);
		}
		return '\n';
	}

	$('form').submit(function() {
		var sCode = '{{Info/Álbum\n' +
			'|nome          = ' + $('input[name=nome]').val() + '\n' +
			'|tipo          = ' + $('input[name=tipo]:checked').val() + '\n' +
			'|artista       = [[' + $('input[name=artista]').val() + ']]\n' +
			'|lançado       = ' + fetchdt('lancado') + '\n' +
			'|gravado       = ' + $('input[name=gravado]').val() + '\n' +
			'|estúdio       = ' + $('input[name=estudio]').val() + '\n' +
			'|gênero        = ' + $('input[name=genero]').val() + '\n' +
			'|duração       = ' + fetchdur('duracao') + '\n' +
			'|idioma        = ' + $('input[name=idioma]:checked').val() + '\n' +
			'|formato       = \n' +
			'|gravadora     = ' + $('input[name=gravadora]').val() + '\n' +
			'|produtor      = ' + $('input[name=produtor]').val() + '\n' +
			'|ultimo álbum  = ' + fetchalb('ultimoalbum') +
			'|próximo álbum = ' + fetchalb('proximoalbum') +
			'|miscelânea    = \n' +
		'}}';

		$('#output')
			.text(sCode)
			.show()
			.focus()
			.select();
		return false;
	});
});
</script>
</head>

<body>
	<h2>predefinição:Info/Álbum</h2>

	<table>
		<tr><td>
			<form>
				<table>
					<tr><td>Nome</td>
						<td><input type="text" name="nome" size="32"/></td></tr>
					<tr><td>Tipo</td>
						<td style="padding: 6px 0;"><label><input type="radio" name="tipo" value="estúdio" checked="checked"/>estúdio</label>
							<label><input type="radio" name="tipo" value="demo"/>demo</label>
							<label><input type="radio" name="tipo" value="ep"/>EP</label>
							<label><input type="radio" name="tipo" value="ao vivo"/>ao vivo</label>
							<label><input type="radio" name="tipo" value="grandes êxitos"/>grandes êxitos</label><br/>
							<label><input type="radio" name="tipo" value="remistura"/>remistura</label>
							<label><input type="radio" name="tipo" value="caixa"/>caixa</label>
							<label><input type="radio" name="tipo" value="compilação"/>compilação</label>
							<label><input type="radio" name="tipo" value="mixtape"/>mixtape</label><br/>
							<label><input type="radio" name="tipo" value="banda sonora"/>banda sonora</label>
							<label><input type="radio" name="tipo" value="vídeo"/>vídeo</label>
							<label><input type="radio" name="tipo" value="outro"/>outro</label>
							</select></td></tr>
					<tr><td>Artista</td>
						<td><input type="text" name="artista" size="20"/></td></tr>
					<tr><td>Lançado em</td>
						<td><input type="text" name="lancadod" size="2"/>
							<input type="text" name="lancadom" size="2"/>
							<input type="text" name="lancadoy" size="4"/></td></tr>
					<tr><td>Gravado em</td>
						<td><input type="text" name="gravado" size="40"></td></tr>
					<tr><td>Estúdio</td>
						<td><input type="text" name="estudio" size="40"></td></tr>
					<tr><td>Gênero</td>
						<td><input type="text" name="genero" size="40"></td></tr>
					<tr><td>Duração</td>
						<td><input type="text" name="duracaom" size="2"/>
							<input type="text" name="duracaos" size="2"/></td></tr>
					<tr><td style="padding: 10px 0;">Idioma</td>
						<td><label><input type="radio" name="idioma" value="" checked="checked"/>nenhum</label>
							<label><input type="radio" name="idioma" value="[[Língua inglesa|inglês]]"/>inglês</label>
							<label><input type="radio" name="idioma" value="[[Língua portuguesa|português]]"/>português</label>
						</td></tr>
					<tr><td>Gravadora</td>
						<td><input type="text" name="gravadora" size="40"></td></tr>
					<tr><td>Produtor</td>
						<td><input type="text" name="produtor" size="40"></td></tr>
					<tr><td>Último álbum</td>
						<td><input type="text" name="ultimoalbum" size="36"> ano
							<input type="text" name="ultimoalbumano" size="4"/></td></tr>
					<tr><td>Próximo álbum</td>
						<td><input type="text" name="proximoalbum" size="36"> ano
							<input type="text" name="proximoalbumano" size="4"/></td></tr>
					<tr><td>&nbsp;</td>
						<td style="padding-top:10px;"><input type="submit" value="Processar"/></td></tr>
				</table>
			</form>
		</td><td valign="top">
			<textarea id="output" rows="22" cols="62"></textarea>
		</td></tr>
	</table>

	<p><a href="index.html">voltar</a> |
		<a href="https://pt.wikipedia.org/wiki/Predefini%C3%A7%C3%A3o:Info/%C3%81lbum">docs</a>
	</p>
</body>
</html>